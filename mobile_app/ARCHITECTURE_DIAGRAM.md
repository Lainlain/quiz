# Mitsuki Quiz Mobile App - Visual Architecture

## ğŸ“± App Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MITSUKI QUIZ APP                        â”‚
â”‚                    (Material Design 3)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  MainActivity   â”‚
                    â”‚   (Compose)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Navigation     â”‚
                    â”‚  Controller     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Login Screen  â”‚â”€â”€â”€â–¶â”‚Register Screenâ”‚    â”‚ Course List   â”‚
â”‚               â”‚    â”‚               â”‚    â”‚   Screen      â”‚
â”‚ - Email       â”‚    â”‚ - Name        â”‚    â”‚               â”‚
â”‚ - Password    â”‚    â”‚ - Email       â”‚    â”‚ - Courses     â”‚
â”‚               â”‚    â”‚ - Password    â”‚    â”‚ - Logout      â”‚
â”‚ [Login Btn]   â”‚    â”‚ - FB URL      â”‚    â”‚ - Refresh     â”‚
â”‚ [Register]    â”‚    â”‚               â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ [Register Btn]â”‚            â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                                                  â”‚
                                                  â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚   Quiz Screen   â”‚
                                        â”‚                 â”‚
                                        â”‚ - Timer         â”‚
                                        â”‚ - Questions     â”‚
                                        â”‚ - Options A-D   â”‚
                                        â”‚ - Progress      â”‚
                                        â”‚                 â”‚
                                        â”‚ [Prev] [Next]   â”‚
                                        â”‚     [Submit]    â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ï¸ Layer Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        UI LAYER (Compose)                      â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚LoginScreen   â”‚  â”‚CourseList    â”‚  â”‚QuizScreen    â”‚        â”‚
â”‚  â”‚              â”‚  â”‚Screen        â”‚  â”‚              â”‚        â”‚
â”‚  â”‚â€¢ Email input â”‚  â”‚â€¢ Course cardsâ”‚  â”‚â€¢ Timer       â”‚        â”‚
â”‚  â”‚â€¢ Password    â”‚  â”‚â€¢ Refresh     â”‚  â”‚â€¢ Questions   â”‚        â”‚
â”‚  â”‚â€¢ Login buttonâ”‚  â”‚â€¢ Logout      â”‚  â”‚â€¢ Answers     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚  â”‚RegisterScreenâ”‚                                             â”‚
â”‚  â”‚              â”‚                                             â”‚
â”‚  â”‚â€¢ Name input  â”‚                                             â”‚
â”‚  â”‚â€¢ Email input â”‚                                             â”‚
â”‚  â”‚â€¢ Password    â”‚                                             â”‚
â”‚  â”‚â€¢ FB URL      â”‚                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VIEWMODEL LAYER (MVVM)                      â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚AuthViewModel â”‚  â”‚CourseViewModelâ”‚ â”‚QuizViewModel â”‚        â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚        â”‚
â”‚  â”‚â€¢ login()     â”‚  â”‚â€¢ getCourses()â”‚  â”‚â€¢ startQuiz() â”‚        â”‚
â”‚  â”‚â€¢ register()  â”‚  â”‚â€¢ selectCourseâ”‚  â”‚â€¢ answer()    â”‚        â”‚
â”‚  â”‚â€¢ logout()    â”‚  â”‚              â”‚  â”‚â€¢ nextQ()     â”‚        â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚â€¢ prevQ()     â”‚        â”‚
â”‚  â”‚StateFlow     â”‚  â”‚StateFlow     â”‚  â”‚â€¢ submit()    â”‚        â”‚
â”‚  â”‚â€¢ authState   â”‚  â”‚â€¢ courseState â”‚  â”‚              â”‚        â”‚
â”‚  â”‚â€¢ isLoggedIn  â”‚  â”‚              â”‚  â”‚StateFlow     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â€¢ quizState   â”‚        â”‚
â”‚                                       â”‚â€¢ timeLeft    â”‚        â”‚
â”‚                                       â”‚â€¢ answers     â”‚        â”‚
â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     REPOSITORY LAYER                           â”‚
â”‚                                                                â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚ QuizRepository  â”‚                        â”‚
â”‚                    â”‚                 â”‚                        â”‚
â”‚                    â”‚ â€¢ login()       â”‚                        â”‚
â”‚                    â”‚ â€¢ register()    â”‚                        â”‚
â”‚                    â”‚ â€¢ getCourses()  â”‚                        â”‚
â”‚                    â”‚ â€¢ startQuiz()   â”‚                        â”‚
â”‚                    â”‚ â€¢ submitAnswer()â”‚                        â”‚
â”‚                    â”‚ â€¢ completeQuiz()â”‚                        â”‚
â”‚                    â”‚                 â”‚                        â”‚
â”‚                    â”‚ Resource<T>:    â”‚                        â”‚
â”‚                    â”‚ â€¢ Success       â”‚                        â”‚
â”‚                    â”‚ â€¢ Error         â”‚                        â”‚
â”‚                    â”‚ â€¢ Loading       â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DATA LAYER                               â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  ApiService  â”‚  â”‚TokenManager  â”‚  â”‚   Models     â”‚        â”‚
â”‚  â”‚  (Retrofit)  â”‚  â”‚ (DataStore)  â”‚  â”‚              â”‚        â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚â€¢ User        â”‚        â”‚
â”‚  â”‚POST /login   â”‚  â”‚â€¢ saveToken() â”‚  â”‚â€¢ Course      â”‚        â”‚
â”‚  â”‚POST /registerâ”‚  â”‚â€¢ getToken()  â”‚  â”‚â€¢ Question    â”‚        â”‚
â”‚  â”‚GET  /courses â”‚  â”‚â€¢ saveUser()  â”‚  â”‚â€¢ Answer      â”‚        â”‚
â”‚  â”‚POST /start   â”‚  â”‚â€¢ getUser()   â”‚  â”‚â€¢ Attempt     â”‚        â”‚
â”‚  â”‚POST /answer  â”‚  â”‚â€¢ clearToken()â”‚  â”‚              â”‚        â”‚
â”‚  â”‚POST /completeâ”‚  â”‚              â”‚  â”‚Request/      â”‚        â”‚
â”‚  â”‚              â”‚  â”‚Flow-based    â”‚  â”‚Response DTOs â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚         NetworkModule (Hilt DI)                  â”‚        â”‚
â”‚  â”‚                                                  â”‚        â”‚
â”‚  â”‚ â€¢ Gson converter                                 â”‚        â”‚
â”‚  â”‚ â€¢ AuthInterceptor (adds Bearer token)            â”‚        â”‚
â”‚  â”‚ â€¢ LoggingInterceptor (debug only)                â”‚        â”‚
â”‚  â”‚ â€¢ OkHttpClient (30s timeout)                     â”‚        â”‚
â”‚  â”‚ â€¢ Retrofit (BASE_URL: http://147.93.158.198:8080)â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚   BACKEND SERVER      â”‚
                  â”‚   (Go + Gin)          â”‚
                  â”‚                       â”‚
                  â”‚ http://147.93.158.198 â”‚
                  â”‚         :8080         â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Theme Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   MitsukiQuizTheme                       â”‚
â”‚                  (Material Design 3)                     â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              ColorScheme                       â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  Primary: Blue (#2196F3)                      â”‚    â”‚
â”‚  â”‚  Background: White (#FFFFFF)                  â”‚    â”‚
â”‚  â”‚  Surface: White (#FFFFFF)                     â”‚    â”‚
â”‚  â”‚  OnSurface: Gray900 (#212121)                 â”‚    â”‚
â”‚  â”‚  Error: Red (#F44336)                         â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  SurfaceVariant: Gray100 (#F5F5F5)            â”‚    â”‚
â”‚  â”‚  Outline: Gray400                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Typography                        â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  displayLarge: 57sp, Normal                   â”‚    â”‚
â”‚  â”‚  headlineMedium: 28sp, Normal                 â”‚    â”‚
â”‚  â”‚  titleLarge: 22sp, Medium                     â”‚    â”‚
â”‚  â”‚  bodyMedium: 14sp, Normal                     â”‚    â”‚
â”‚  â”‚  labelLarge: 14sp, Medium                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚          System UI (SideEffect)                â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  StatusBar: White with dark icons             â”‚    â”‚
â”‚  â”‚  NavigationBar: White with dark icons         â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  isAppearanceLightStatusBars = true           â”‚    â”‚
â”‚  â”‚  isAppearanceLightNavigationBars = true       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ State Management Flow

```
User Action
    â”‚
    â–¼
UI Screen (Composable)
    â”‚
    â”‚ onClick/onChange
    â–¼
ViewModel Method
    â”‚
    â”‚ viewModelScope.launch
    â–¼
Set State to Loading
    â”‚
    â–¼
Repository Call
    â”‚
    â”œâ”€â”€â–¶ API Service (Network)
    â”‚         â”‚
    â”‚         â–¼
    â”‚    Backend Response
    â”‚         â”‚
    â”œâ”€â”€â–¶ Token Manager (Storage)
    â”‚         â”‚
    â”‚         â–¼
    â”‚    DataStore Read/Write
    â”‚
    â–¼
Resource<T>
    â”‚
    â”œâ”€â”€â–¶ Success(data)
    â”œâ”€â”€â–¶ Error(message)
    â””â”€â”€â–¶ Loading
         â”‚
         â–¼
    Update StateFlow
         â”‚
         â–¼
    collectAsState in UI
         â”‚
         â–¼
    Recompose UI
         â”‚
         â–¼
    Display to User
```

## ğŸ“¦ Dependency Injection Graph

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Application (@HiltAndroidApp)              â”‚
â”‚                   MitsukiQuizApp                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   NetworkModule (@Module)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gson     â”‚  â”‚  OkHttp    â”‚  â”‚TokenManagerâ”‚
â”‚ @Provides  â”‚  â”‚ @Provides  â”‚  â”‚ @Provides  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Retrofit  â”‚
                â”‚ @Provides  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ ApiService â”‚
                â”‚ @Provides  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚QuizRepositoryâ”‚ â”‚AuthViewModel â”‚ â”‚CourseViewModelâ”‚
â”‚ @Singleton   â”‚ â”‚@HiltViewModelâ”‚ â”‚@HiltViewModel â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚QuizViewModel â”‚
â”‚@HiltViewModelâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
    Screens (Injected via hiltViewModel())
```

## ğŸ“± Screen Components Breakdown

### Login Screen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Mitsuki Quiz                â”‚ â† TopAppBar (White)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚       Welcome Back                  â”‚ â† HeadlineMedium
â”‚     Login to continue               â”‚ â† BodyMedium
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Email                         â”‚ â”‚ â† OutlinedTextField
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Password               [ğŸ‘]   â”‚ â”‚ â† OutlinedTextField
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Login                 â”‚ â”‚ â† Button (Blue)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚   Don't have an account? Register  â”‚ â† TextButton
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Course List Screen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Available Courses  [ğŸ”„] [ğŸšª]        â”‚ â† TopAppBar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ N5 Japanese                 â”‚   â”‚ â† Card (Course)
â”‚  â”‚ Basic level for beginners   â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ [Exam Time: 60 min] [3x]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ N4 Japanese                 â”‚   â”‚ â† Card (Course)
â”‚  â”‚ Intermediate level          â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ [Exam Time: 90 min] [2x]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ N3 Japanese                 â”‚   â”‚ â† Card (Course)
â”‚  â”‚ Upper intermediate          â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ [Exam Time: 120 min] [2x]  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Quiz Screen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†]        â± 45:30                  â”‚ â† TopAppBar + Timer
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘      â”‚ â† Progress Bar
â”‚                                     â”‚
â”‚ Question 5 of 20                    â”‚ â† Label
â”‚                                     â”‚
â”‚ What is the correct hiragana        â”‚
â”‚ for "arigatou"?                     â”‚ â† Question Text
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â—‹ A. ã‚ã‚ŠãŒã¨ã†              â”‚   â”‚ â† Radio Option
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â— B. ã‚ãŒã‚Šã¨ã†              â”‚   â”‚ â† Selected Option
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â—‹ C. ã‚ã‚Šã‹ã¨ã†              â”‚   â”‚ â† Radio Option
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â—‹ D. ã‚ãŒã‚Šã‹ã¨ã†            â”‚   â”‚ â† Radio Option
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â—„ Previous]         [Next â–º]     â”‚ â† Navigation Buttons
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Authentication Flow

```
App Start
    â”‚
    â–¼
Check Token in DataStore
    â”‚
    â”œâ”€â”€â–¶ Token Exists â”€â”€â–¶ Navigate to Course List
    â”‚
    â””â”€â”€â–¶ No Token â”€â”€â–¶ Show Login Screen
                          â”‚
                          â”œâ”€â”€â–¶ Login
                          â”‚      â”‚
                          â”‚      â–¼
                          â”‚  POST /login
                          â”‚      â”‚
                          â”‚      â–¼
                          â”‚  Save Token + User
                          â”‚      â”‚
                          â”‚      â–¼
                          â”‚  Navigate to Courses
                          â”‚
                          â””â”€â”€â–¶ Register
                                 â”‚
                                 â–¼
                             Validate FB URL
                                 â”‚
                                 â–¼
                             POST /register
                                 â”‚
                                 â–¼
                             Save Token + User
                                 â”‚
                                 â–¼
                             Navigate to Courses
```

## ğŸ“Š Quiz Data Flow

```
Course List Screen
    â”‚
    â”‚ User clicks course
    â–¼
Get first quiz package
    â”‚
    â–¼
Navigate to Quiz Screen
    â”‚
    â–¼
QuizViewModel.startQuiz()
    â”‚
    â–¼
POST /api/student/quiz/start
    â”‚
    â–¼
Receive:
  â€¢ attempt_id
  â€¢ questions[]
  â€¢ exam_time
    â”‚
    â–¼
Start Timer (exam_time * 60 seconds)
    â”‚
    â”‚ Every second: timeRemaining--
    â”‚
    â–¼
Display Questions
    â”‚
    â”‚ User selects answer
    â–¼
answerQuestion(questionId, answer)
    â”‚
    â”œâ”€â”€â–¶ Update local state
    â”‚
    â””â”€â”€â–¶ POST /api/student/quiz/answer
    â”‚
    â–¼
User clicks Submit
    â”‚
    â–¼
Check unanswered questions
    â”‚
    â”œâ”€â”€â–¶ Has unanswered â”€â”€â–¶ Show warning
    â”‚
    â””â”€â”€â–¶ All answered â”€â”€â–¶ Show confirmation
                             â”‚
                             â–¼
                         POST /complete/{attemptId}
                             â”‚
                             â–¼
                         Receive result:
                           â€¢ score
                           â€¢ percentage
                           â€¢ passed
                             â”‚
                             â–¼
                         Navigate back
```

---

**This diagram provides a complete visual overview of the Mitsuki Quiz mobile app architecture!**
